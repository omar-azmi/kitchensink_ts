var Ut=Array;var Yr=Date;var Ve=Math,Te=Number,z=Object,Ot=Promise;var qr=String,Et=Symbol,Be=console,Mt=performance;var K=e=>e.length===0,j=Ut.from;var Ft=Ut.isArray;var Ae=Yr.now;var Se=Ve.min;var jt=Ve.round;var Vt=Ve.random;var Le=Te.MAX_VALUE;var Bt=Te.POSITIVE_INFINITY;var ze=Te.isInteger;var G=Te.parseInt,Pe=z.assign;var Re=z.defineProperty,Lt=z.entries;var Ie=z.getOwnPropertyDescriptor;var zt=z.getOwnPropertyNames,Gt=z.getOwnPropertySymbols,Ge=z.getPrototypeOf;var ve=Ot.resolve.bind(Ot);var $e=e=>e.toUpperCase(),He=e=>e.toLowerCase();var $t=qr.fromCharCode;var ce=Et.iterator;var Ht=Et.toStringTag;var Je=Be.assert;var Ce=Be.error;var We=Be.log;var Q=Mt.now.bind(Mt),pe=setTimeout,Ne=clearTimeout;var Z=encodeURI;var Ye=decodeURI;var I=(e,t,...r)=>(n=>e[t].bind(n,...r));var V=(e,t,...r)=>e[t].bind(e,...r),we=e=>e.prototype,ue=we(Array),B=we(Map),qe=we(Set),Xr=we(String);var Jt=I(ue,"map"),Ke=I(ue,"pop"),L=I(ue,"push");var Wt=I(ue,"splice",0),Xe=I(ue,"at",-1),me=I(qe,"add");var de=I(qe,"delete");var ke=I(qe,"has");var De=I(B,"delete"),Qe=I(B,"entries"),Ze=I(B,"forEach"),$=I(B,"get"),et=I(B,"has"),tt=I(B,"keys"),ye=I(B,"set"),rt=I(B,"values");var le=I(Xr,"charCodeAt");var nt=(e,t=-Le,r=Le)=>e<t?t:e>r?r:e,T=(e,t)=>(e%t+t)%t,_o=(e,t,r)=>r*(t-e)+e,To=(e,t,r)=>(r<0?0:r>1?1:r)*(t-e)+e,Ao=(e,t,r,n)=>r*(t[n]-e[n])+e[n],So=(e,t,r,n)=>(r<0?0:r>1?1:r)*(t[n]-e[n])+e[n],Qr=(e,t,r)=>{let n=e.length,o=Array(n).fill(0);for(let s=0;s<n;s++)o[s]=r*(t[s]-e[s])+e[s];return o},Po=(e,t,r)=>Qr(e,t,r<0?0:r>1?1:r),Ro=(e,t,r)=>(r-e)/(t-e),Io=(e,t,r)=>{let n=(r-e)/(t-e);return n<0?0:n>1?1:n},vo=(e,t,r,n)=>(r[n]-e[n])/(t[n]-e[n]),Co=(e,t,r,n)=>{let o=(r[n]-e[n])/(t[n]-e[n]);return o<0?0:o>1?1:o},No=(e,t,r)=>t[0]+(r-e[0])*(t[1]-t[0])/(e[1]-e[0]),wo=(e,t,r)=>{let n=(r-e[0])/(e[1]-e[0]);return(n<0?0:n>1?1:n)*(t[1]-t[0])+t[0]},Ko=e=>{let t=0,r=e.length;for(let n=0;n<r;n++)t+=e[n];return t},H=(e,t)=>e<t?e:t,M=(e,t)=>e>t?e:t,ot=e=>e>=0?1:-1,Yt=e=>(e>=0?1:-1)*e,qt=(e,t=9)=>{let r=10**t;return jt(e*r)/r};function _(e,t,r,n){return e??=0,n??=0,r===void 0?[e+n,t===void 0?t:t+n,r]:(t??=r,e+=e>=0?0:r,t+=t>=0?0:r,r=t-e,[e+n,t+n,M(0,r)])}var Uo=(e,t)=>{let r=e.length;if(t=T(t,r===0?1:r),t===0)return e;let n=e.splice(r-t,t);return e.splice(0,0,...n),e},Zr=e=>{let t=e.length,r=()=>Vt()*t|0,n=(o,s)=>{let a=e[o];e[o]=e[s],e[s]=a};for(let o=0;o<t;o++)n(o,r());return e},Eo=function*(e){let t=e.length;for(;!K(e);)t>=e.length&&(t=0,Zr(e)),t=M(t+((yield e[t])??1),0)},Fo=(e,t=0,r,...n)=>{let o=e.length,s=o-t;r??=s,r=H(r,s);let a=t+r,i=[],c=[],p=L(i),u=L(c);for(let m=o;m>a;m--)p(e.pop());for(let m=a;m>t;m--)u(e.pop());return e.push(...n,...i.toReversed()),c.toReversed()},jo=(e,t,r=1,n=6)=>[...en(e,t,r,n)],en=function*(e=0,t,r=1,n=6){t??=ot(r)*Bt;let o=t-e,s=Yt(r)*ot(o),a=o/s,i=0;for(;i<a;i++)yield qt(e+i*s,n);return i},Vo=(...e)=>{let t=[],r=L(t),n=K(e)?0:Se(...e.map(o=>o.length));for(let o=0;o<n;o++)r(e.map(s=>s[o]));return t},tn=function*(...e){if(K(e))return 0;let t=e.map(a=>a instanceof Iterator?a:a[ce]()),r=Jt(t),n=0,o=!0,s=a=>{let{value:i,done:c}=a.next();return c&&(o=!1),i};for(let a=r(s);o;a=r(s))n++,yield a;return n},Bo=e=>function*(...t){let r=0;for(let n of tn(...t))yield e(n,r),r++;return r},Lo=function*(e,t){let r=t.length;for(let n=0;n<r;n+=e)yield t.slice(n,n+e)};var Oe=e=>{let{x:t,y:r,width:n,height:o}=e;return n<0&&(n*=-1,t-=n),o<0&&(o*=-1,r-=o),{x:t,y:r,width:n,height:o}},xe=e=>Ge(e).constructor,Jo=(e,...t)=>new(xe(e))(...t),ee=e=>e.prototype;function st(e,t={}){let{start:r,end:n,delta:o}=t,s=[];for(;e=Ge(e);)s.push(e);s.push(null);let a=s.length;if(fe(r)&&(r=M(0,s.indexOf(r))),fe(n)){let i=s.indexOf(n);n=i<0?void 0:i}return o!==void 0&&(r??n)!==void 0&&(r!==void 0?n=r+o:r=n-o),[r,n]=_(r,n,a),s.slice(r,n)}var Me=e=>[...zt(e),...Gt(e)],Wo=(e,t=ee(Object))=>{let r=st(e,{start:0,end:t}),n=r.map(o=>Me(o)).flat(1);return[...new Set(n)]},Yo=e=>Me(e).filter(t=>"get"in Ie(e,t)),qo=e=>Me(e).filter(t=>"set"in Ie(e,t)),Xt=(e,t)=>{let{baseKey:r,mirrorPrototype:n=!0,propertyKeys:o=[],ignoreKeys:s=[],target:a={}}=t,i=a,c=new Set(o),p=new Set(s),u=rn(n)?n?st(e,{end:ee(Object)}):[]:te(n)?n:st(e,n);u.unshift(e),i[r]=e;for(let m of u){let l=Me(m);for(let d of l){if(d in i||c.has(d)||p.has(d))continue;let{value:y,...x}=Ie(m,d);at(y)?Re(i,d,{...x,value(...f){return this[r][d](...f)}}):c.add(d)}}for(let m of c)Re(i,m,{get(){return this[r][m]},set(l){this[r][m]=l}});return i},Xo=(e,t={})=>{let r=t.class??{},n=t.instance??{},o=n.baseKey??"_super",s=r.ignoreKeys??[],a=class{constructor(...p){let u=new e(...p);this[o]=u}},i=ee(e),c=ee(a);return Xt(e,{mirrorPrototype:{start:0,end:ee(Function)},baseKey:"_super",...r,ignoreKeys:[...s,"length","name","prototype"],target:a}),Xt(i,{baseKey:o,...n,target:c}),a},Qo=(e,t,r)=>{Re(ee(e),t,{value:r})},fe=e=>{let t=typeof e;return t==="object"||t==="function"},Zo=e=>!fe(e),at=e=>typeof e=="function",it=e=>typeof e=="object",te=Ft,es=e=>it(e)&&e!==null&&!te(e),k=e=>typeof e=="string",ts=e=>typeof e=="number",Ue=e=>typeof e=="bigint",rs=e=>typeof e=="number"||typeof e=="bigint",rn=e=>typeof e=="boolean",ns=e=>typeof e=="symbol";var re=e=>{let t=e.length,r=e[0]?.length??0;return[t,r]},cs=re,ps=(e,t,r)=>{let n=at(r)?()=>Array(t).fill(void 0).map(r):()=>Array(t).fill(r);return Array(e).fill(void 0).map(n)},Qt=e=>{let[t,r]=re(e),n=[];for(let o=0;o<r;o++)n[o]=[];for(let o=0;o<t;o++)for(let s=0;s<r;s++)n[s][o]=e[o][s];return n},Zt=(e,t,r,...n)=>{let[o,s]=re(e);return r??=M(o-t,0),e.splice(t,r,...n)},er=(e,t,r,...n)=>{let[o,s]=re(e),a=n.length>0?Qt(n):Array(o).fill([]);return r??=M(s-t,0),Qt(e.map((i,c)=>i.splice(t,r,...a[c])))},us=(e,t)=>{let[r,n]=re(e);if(t=T(t,r===0?1:r),t===0)return e;let o=Zt(e,r-t,t);return Zt(e,0,0,...o),e},ms=(e,t)=>{let[r,n]=re(e);if(t=T(t,n===0?1:n),t===0)return e;let o=er(e,n-t,t);return er(e,0,0,...o),e},ds=(e,t)=>{let r=t.length,n=e.map(s=>Array(r).fill(s)),o=e.map(()=>t.slice());return[n,o]},ys=(e,t,r)=>{let n=t.length,o=r.length,s=Array(n).fill(void 0);for(let a=0;a<n;a++){let i=Array(o).fill(0),c=t[a];for(let p=0;p<o;p++)i[p]=e(c,r[p]);s[a]=i}return s};var hs=(e,t="data.bin",r="application/octet-stream")=>{let n=new Blob([e],{type:r}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=t,o.click(),URL.revokeObjectURL(o.href),o.remove()},nn=e=>{let t=new FileReader;return new Promise((r,n)=>{t.onload=()=>r(t.result),t.onerror=n,t.readAsDataURL(e)})},on=e=>nn(e).then(t=>{let[r,n]=t.split(";base64,",2);return[r+";base64,",n]}),gs=e=>on(e).then(t=>t[1]),_s=e=>{let t=atob(e),r=t.length,n=le(t),o=new Uint8Array(r);for(let s=0;s<r;s++)o[s]=n(s);return o},Ts=e=>{let r=[];for(let n=0;n<e.length;n+=32766){let o=e.subarray(n,n+32766);r.push($t(...o))}return btoa(r.join(""))},As=async e=>{let[t,r]=e.tee(),n=await t.getReader().read(),o=n.value,s=typeof o,a=s==="object"?te(o)?"array":o instanceof Uint8Array?"uint8array":o instanceof ArrayBuffer?"arraybuffer":o??!1?"object":"null":s;return t.cancel(),e.cancel(),{kind:a,stream:r}};var ct=class extends Array{static[Symbol.species]=Array;constructor(t=[]){super(),super.push(...t)}insert(t,r){let n=T(t,this.length)+(t<0?1:0);this.splice(n,0,r)}delete(t){return this.splice(t,1)[0]}swap(t,r){[this[r],this[t]]=[this[t],this[r]]}get(t){return this[t]}set(t,r){return this[t]=r}static from(t,r,n){return new this(j(t,r,n))}static of(...t){return this.from(t)}},tr=class extends ct{rc=new Map;getRc=$(this.rc);setRc=ye(this.rc);delRc=De(this.rc);constructor(t=[]){super(),this.push(...t)}onAdded(t){}onDeleted(t){}incRcs(...t){let{getRc:r,setRc:n}=this;t.forEach(o=>{let s=(r(o)??0)+1;n(o,s),s===1&&this.onAdded(o)})}decRcs(...t){let{getRc:r,setRc:n,delRc:o}=this;t.forEach(s=>{let a=(r(s)??0)-1;a>0?n(s,a):(o(s),this.onDeleted(s))})}push(...t){let r=super.push(...t);return this.incRcs(...t),r}pop(){let t=this.length,r=super.pop();return this.length<t&&this.decRcs(r),r}shift(){let t=this.length,r=super.shift();return this.length<t&&this.decRcs(r),r}unshift(...t){let r=super.unshift(...t);return this.incRcs(...t),r}splice(t,r,...n){let o=super.splice(t,r,...n);return this.incRcs(...n),this.decRcs(...o),o}swap(t,r){let n=M(t,r);n>=this.length&&this.set(n,void 0),super.swap(t,r)}set(t,r){let n=super.get(t),o=this.length,s=t+1-o;if(s===1)this.push(r);else if(r!==n||s>1){if(r=super.set(t,r),this.incRcs(r),s>0){let{getRc:a,setRc:i}=this;i(void 0,(a(void 0)??0)+s)}this.decRcs(n)}return r}static from(t,r,n){return new this(j(t,r,n))}},rr=class{constructor(t){this.length=t;this.items=Array(t),this.back=t-1}items;front=0;back;count=0;*[Symbol.iterator](){let t=this.count;for(let r=0;r<t;r++)yield this.at(r)}pushBack(...t){for(let r of t)this.count===this.length&&this.popFront(),this.items[this.back]=r,this.back=T(this.back-1,this.length),this.count++}pushFront(...t){for(let r of t)this.count===this.length&&this.popBack(),this.items[this.front]=r,this.front=T(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.seek(0)}getFront(){if(this.count!==0)return this.seek(-1)}popBack(){if(this.count===0)return;this.back=T(this.back+1,this.length);let t=this.items[this.back];return this.items[this.back]=void 0,this.count--,t}popFront(){if(this.count===0)return;this.front=T(this.front-1,this.length);let t=this.items[this.front];return this.items[this.front]=void 0,this.count--,t}rotate(t){let{front:r,back:n,length:o,count:s,items:a}=this;if(s!==0){if(t=T(t,s),s<o)for(let i=0;i<t;i++){let c=T(n-i,o),p=T(r-i-1,o);a[c]=a[p],a[p]=void 0}this.front=T(r-t,o),this.back=T(n-t,o)}}reverse(){this.normalize();let{count:t,length:r,items:n}=this;n.reverse(),this.front=0,this.back=T(0-t-1,r)}normalize(){let{length:t,count:r,back:n,items:o}=this;if(t<=0)return;let s=T(n+1,t),a=o.slice(s,s+r),i=r-a.length,c=o.slice(0,i),p=Array(t-r).fill(void 0);o.splice(0,t,...a,...c,...p),this.back=t-1,this.front=r}resolveIndex(t){return T(this.back+t+1,this.length)}resolveSeekIndex(t){let{front:r,back:n,count:o,length:s}=this,a=t<0?r:n+1,i=t<0?(t+1)%o-1:t%o;return T(a+i,s)}at(t){return this.items[this.resolveIndex(t)]}seek(t){return this.items[this.resolveSeekIndex(t)]}replace(t,r){this.items[this.resolveSeekIndex(t)]=r}insert(t,...r){this.normalize();let{count:n,length:o,items:s}=this,a=H(n+r.length,o),i=this.resolveSeekIndex(t)+(t<0?1:0),c=s.splice(i);s.push(...r,...c),s.splice(o),this.count=a,this.front=a}resize(t){this.normalize();let{length:r,count:n,items:o}=this,s=t-r,a=s<0,i=a?t:r,c=H(n,i),p=a?-s:0,u=a?0:s;o.splice(i,p,...Array(u).fill(void 0)),this.length=t,this.back=t-1,this.front=c,this.count=c}},nr=e=>{let t=[];e.forEach(o=>{t.push(...o)});let r=new Map([...new Set(t)].map(o=>[o,new Set])),n=$(r);for(let[o,s]of e)s.forEach(a=>n(a).add(o));return r},or=class{constructor(t,r){let n=t??(r?nr(r):new Map),o=r??(t?nr(t):new Map),s=ye(n),a=ye(o),i=De(n),c=De(o),p=n.size,u=o.size,m=Ze(n),l=Ze(o),d=$(n),y=$(o),x=et(n),f=et(o),h=Qe(n),D=Qe(o),X=tt(n),R=tt(o),v=rt(n),O=rt(o),wt=(b,...A)=>{let S=d(b)??(s(b,new Set)&&d(b)),w=ke(S),E=me(S);for(let F of A)w(F)||(E(F),y(F)?.add(b)||a(F,new Set([b])))},Kt=(b,...A)=>{let S=y(b)??(a(b,new Set)&&y(b)),w=ke(S),E=me(S);for(let F of A)w(F)||(E(F),d(F)?.add(b)||s(F,new Set([b])))},Wr=()=>{n.clear(),o.clear()},kt=(b,A=!1)=>{let S=d(b);if(S){for(let w of S)y(w).delete(b);A?S.clear():A=i(b)}return A},Dt=(b,A=!1)=>{let S=y(b);if(S){for(let w of S)d(w).delete(b);A?S.clear():A=c(b)}return A};Pe(this,{fmap:n,rmap:o,size:p,rsize:u,forEach:m,rforEach:l,get:d,rget:y,has:x,rhas:f,entries:h,rentries:D,keys:X,rkeys:R,values:v,rvalues:O,add:wt,radd:Kt,clear:Wr,delete:kt,rdelete:Dt,remove:(b,...A)=>{let S=d(b);if(S){let w=de(S);for(let E of A)w(E)&&y(E).delete(b)}},rremove:(b,...A)=>{let S=y(b);if(S){let w=de(S);for(let E of A)w(E)&&d(E).delete(b)}},set:(b,A)=>(kt(b,!0),wt(b,...A),this),rset:(b,A)=>(Dt(b,!0),Kt(b,...A),this),[ce]:h,[Ht]:"InvertibleMap"})}},sr=class{constructor(t){let r,n=$(t),o=[],s=Ke(o),a=L(o),i=Wt(o),c=Xe(o),p=new Map,u=$(p),m=ye(p),l=R=>{for(let v of n(R)??[]){let O=u(v);O?m(v,O+1):l(v)}m(R,1)},d=R=>{m(R,0);for(let v of n(R)??[]){let O=(u(v)??0)-1;O>-1&&(m(v,O),O<1&&d(v))}},y=()=>{i();for(let[R,v]of p)v>0&&a(R)},x=()=>(r=s(),r!==void 0&&m(r,0),r),f=(...R)=>{p.clear(),R.forEach(l),y()},h=(...R)=>{K(R)&&r!==void 0&&R.push(r),R.forEach(d),y()},D=()=>{p.clear(),i()},X=function*(){for(r=x();r!==void 0;)yield r,r=x()};Pe(this,{edges:t,stack:o,fire:f,block:h,clear:D,pop:x,seek:c,[ce]:X})}},ar=class{constructor(t){let{rforEach:r,get:n,rget:o}=t,s=new Set,a=me(s),i=de(s),c={},p={},u=()=>{s.clear(),c={},p={},r((y,x)=>{c[x]=y.size})},m=(...y)=>{0,u(),y.forEach(a)},l=(...y)=>{let x=[];for(let f of y)i(f)&&n(f)?.forEach(h=>{let D=(c[h]??o(h)?.size??1)-1;D<=0&&x.push(h),c[h]=D});return x.forEach(a),0,x},d=(...y)=>{let x=[];for(let f of y)i(f),n(f)?.forEach(h=>{(p[h]=(p[h]??0)+1)>=(o(h)?.size??0)&&x.push(h)});return y.concat(K(x)?x:d(...x))};Pe(this,{pending:s,clear:u,fire:m,resolve:l,reject:d})}},be=class{wmap=new WeakMap;smap=new Map;pick(t){return fe(t)?this.wmap:this.smap}get(t){return this.pick(t).get(t)}set(t,r){return this.pick(t).set(t,r),this}has(t){return this.pick(t).has(t)}delete(t){return this.pick(t).delete(t)}},ut=Symbol(1),mt=e=>class pr extends e{constructor(n=ut){super();this.value=n}getDeep(n,o=!0){if(K(n))return this;let s=n.pop(),a=this.get(s);return!a&&o&&this.set(s,a=new pr),a?.getDeep(n,o)}setDeep(n,o,s=!0){let a=this.getDeep(n,s);return a&&(a.value=o),a}hasDeep(n){if(K(n))return!0;let o=n.pop();return this.get(o)?.hasDeep(n)??!1}delDeep(n){if(K(n))return!1;let[o,...s]=n;return this.getDeep(s,!1)?.delete(o)??!1}},Cs=mt(WeakMap),ur=mt(Map),mr=mt(be),pt=class extends Array{static[Symbol.species]=Array;$set=new Set;$add=me(this.$set);$del=de(this.$set);includes=ke(this.$set);top=Xe(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:t,$add:r}=this;return t.clear(),super.forEach(r),this.length}reset(t=[]){let{$set:r,$add:n}=this;r.clear(),t.forEach(n),this.fsync()}constructor(t){super(),this.reset(t)}pop(){let t=super.pop();return this.$del(t),t}push(...t){let r=this.includes,n=this.$add,o=t.filter(r);return o.forEach(n),super.push(...o)}pushFront(...t){return t.forEach(this.$del),t.forEach(this.$add),this.fsync()}shift(){let t=super.shift();return this.$del(t),t}unshift(...t){let r=this.includes,n=t.filter(r);return super.unshift(...n),this.rsync()}unshiftRear(...t){return this.delMany(...t),super.unshift(...t),this.rsync()}del(t){return this.$del(t)?(super.splice(super.indexOf(t),1),!0):!1}delMany(...t){t.forEach(this.$del),this.fsync()}},Ee=class extends Array{static[Symbol.species]=Array;min;max;resize_cb;constructor(t,r,n){super(),this.min=t,this.max=r,this.resize_cb=n}resize(t){let r=this.length,n=r-this.max>0?r-this.min:0;if(n>0){let o=super.splice(0,n);this.resize_cb?.(o)}return t}push(...t){return this.resize(super.push(...t))}},ir=class extends pt{min;max;resize_cb;constructor(t,r,n){super(),this.min=t,this.max=r,this.resize_cb=n}resize(t){let r=this.length,n=r-this.max>0?r-this.min:0;if(n>0){let o=super.splice(0,n);o.forEach(this.$del),this.resize_cb?.(o)}return t}push(...t){return this.resize(super.push(...t))}pushFront(...t){return this.resize(super.pushFront(...t))}},cr=class extends Array{static[Symbol.species]=Array;chain=[];pending=[];onEmpty;constructor(t=[],{onEmpty:r,isEmpty:n}={}){super(),console.log(t),this.chain.push(...t),this.onEmpty=r,n&&r?.()}push(...t){let r=super.push(...t),n=this.chain;return this.pending.push(...t.map(o=>{n.forEach(([a,i])=>{o=o.then(a,i)});let s=()=>this.del(o);return o.then(s,s),o})),r}del(t){let r=this.pending,n=r.indexOf(t);return n>=0?(r.splice(n,1),super.splice(n,1),K(this)&&this.onEmpty?.(),!0):!1}};var dr=(e,t)=>dt([e],t),dt=(e,t)=>t[0]==="u"?lr(e):xr(e),yr=(e,t,r)=>{let[n,o]=yt(e,t,r,1);return[n[0],o]},yt=(e,t,r,n)=>r[0]==="u"?fr(e,t,n):br(e,t,n),lr=e=>{let t=e.length,r=[];for(let n=0;n<t;n++){let o=e[n];o=o*(o>=0?1:-1);let s=[];do s.push((o&127)+128),o>>=7;while(o>0);s[0]&=127,r.push(...s.reverse())}return Uint8Array.from(r)},fr=(e,t=0,r)=>{r===void 0&&(r=1/0);let n=[],o=t,s=e.length,a=0;for(let i=e[t++];r>0&&t<s+1;i=e[t++])a<<=7,a+=i&127,i>>7===0&&(n.push(a),r--,a=0);return t--,[n,t-o]},xr=e=>{let t=e.length,r=[];for(let n=0;n<t;n++){let o=e[n],s=o>=0?1:-1,a=[];for(o=o*s;o>63;)a.push((o&127)+128),o>>=7;a.push(o&63|(s==-1?192:128)),a[0]&=127,r.push(...a.reverse())}return Uint8Array.from(r)},br=(e,t=0,r)=>{r===void 0&&(r=1/0);let n=[],o=t,s=e.length,a=0,i=0;for(let c=e[t++];r>0&&t<s+1;c=e[t++])a===0?(a=(c&64)>0?-1:1,i=c&63):(i<<=7,i+=c&127),c>>7===0&&(n.push(i*a),r--,a=0,i=0);return t--,[n,t-o]},ws=e=>lr([e]),Ks=(e,t=0)=>{let[r,n]=fr(e,t,1);return[r[0],n]},ks=e=>xr([e]),Ds=(e,t=0)=>{let[r,n]=br(e,t,1);return[r[0],n]};var js=e=>!!e.buffer,lt=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array}return Ce('an unrecognized typed array type `"${type}"` was provided'),Uint8Array},sn=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,he=sn(),Vs=(e,t)=>{let r=e.byteLength;for(let n=0;n<r;n+=t)e.subarray(n,n+t).reverse();return e},ft=(e,t)=>{let r=e.byteLength,n=new Uint8Array(r),o=t;for(let s=0;s<o;s++){let a=o-1-s*2;for(let i=s;i<r+s;i+=o)n[i]=e[i+a]}return n},hr=(...e)=>{let t=[0];for(let n of e)t.push(t[t.length-1]+n.length);let r=new Uint8Array(t.pop());for(let n of e)r.set(n,t.shift());return r},gr=(...e)=>{let t=[0];for(let n of e)t.push(t[t.length-1]+n.length);let r=new(xe(e[0]))(t.pop());for(let n of e)r.set(n,t.shift());return r},Bs=(e,t)=>xt(e,t),Ls=(e,t,r=0,n,o)=>{[n,o]=_(n,o,e.length);let s=[];for(let a=n;a<o;a+=t+r)s.push(e.slice(a,a+t));return s},xt=(e,t,r=0,n,o)=>{[n,o]=_(n,o,e.length);let s=[];for(let a=n;a<o;a+=t+r)s.push(e.subarray(a,a+t));return s},zs=(e,t)=>e.length!==t.length?!1:an(e,t),an=(e,t)=>{let r=H(e.length,t.length);for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0},_r=(e,t)=>{let r=[];for(let n=1;n<t.length;n++)r.push(e.slice(t[n-1],t[n]));return r},Gs=(e,t)=>{let r=[];for(let n=1;n<t.length;n++)r.push(e.subarray(t[n-1],t[n]));return r},$s=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.slice(t[n-1],t[n]));return r},Hs=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.subarray(t[n-1],t[n]));return r},Js=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.slice(t[n-1],t[n]===void 0?void 0:t[n-1]+t[n]));return r},Ws=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.subarray(t[n-1],t[n]===void 0?void 0:t[n-1]+t[n]));return r};var ne=new TextEncoder,Tr=new TextDecoder,Zs=(e,t,r,...n)=>{let[o,s]=Sr(r,e,t,...n);return[o,t+s]},ea=(e,t,r,n,...o)=>{let s=Ar(r,n,...o);return e.set(s,t),[e,t+s.length]},ta=(...e)=>{let t=[];for(let r of e)t.push(Ar(...r));return hr(...t)},ra=(e,t,...r)=>{let n=[],o=0;for(let[s,...a]of r){let[i,c]=Sr(s,e,t+o,...a);n.push(i),o+=c}return[n,o]},Ar=(e,t,...r)=>{switch(e){case"bool":return cn(t);case"cstr":return un(t);case"str":return dn(t);case"bytes":return ln(t);default:return e[1]==="v"?e.endsWith("[]")?dt(t,e):dr(t,e):e.endsWith("[]")?Pr(t,e):xn(t,e)}},Sr=(e,t,r,...n)=>{switch(e){case"bool":return pn(t,r);case"cstr":return mn(t,r);case"str":return yn(t,r,...n);case"bytes":return fn(t,r,...n);default:return e[1]==="v"?e.endsWith("[]")?yt(t,r,e,...n):yr(t,r,e):e.endsWith("[]")?Rr(t,r,e,...n):bn(t,r,e)}},cn=e=>Uint8Array.of(e?1:0),pn=(e,t=0)=>[e[t]>=1,1],un=e=>ne.encode(e+"\0"),mn=(e,t=0)=>{let r=e.indexOf(0,t),n=e.subarray(t,r);return[Tr.decode(n),n.length+1]},dn=e=>ne.encode(e),yn=(e,t=0,r)=>{let n=r===void 0?void 0:t+r,o=e.subarray(t,n);return[Tr.decode(o),o.length]},ln=e=>e,fn=(e,t=0,r)=>{let n=r===void 0?void 0:t+r,o=e.slice(t,n);return[o,o.length]},Pr=(e,t)=>{let[r,n,o]=t,s=lt(t),a=G(n),i=!!(o==="l"&&he||o==="b"&&!he||a===1),c=s.from(e);if(c instanceof Uint8Array)return c;let p=new Uint8Array(c.buffer);return i?p:ft(p,a)},Rr=(e,t=0,r,n)=>{let[o,s,a]=r,i=G(s),c=!!(a==="l"&&he||a==="b"&&!he||i===1),p=n?i*n:void 0,u=e.slice(t,p?t+p:void 0),m=u.length,l=lt(r),d=c?u:ft(u,i),y=new l(d.buffer);return[j(y),m]},xn=(e,t)=>Pr([e],t),bn=(e,t=0,r)=>{let[n,o]=Rr(e,t,r,1);return[n[0],o]};var hn=()=>{let t=new Int32Array(256);for(let r=0;r<256;r++){let n=r;for(let o=8;o>0;--o)n=n&1?n>>>1^-306674912:n>>>1;t[r]=n}return t},Ir,aa=(e,t)=>{t=t===void 0?4294967295:t^-1,Ir??=hn();for(let r=0;r<e.length;++r)t=Ir[(t^e[r])&255]^t>>>8;return(t^-1)>>>0},gn=e=>{let t=32n*8n,r=(1n<<t-1n)-1n;return e=e>>3n<<3n,e&=r,e|=1n<<t-2n,e},bt=e=>{let t=0n;for(let r=e.length-1;r>=0;r--)t=(t<<8n)+BigInt(e[r]);return t},vr=(e,t)=>{if(t===void 0){t=0;let n=e;for(;n>0n;)n/=0xFFn,t++}let r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=Number(e&0xFFn),e>>=8n;return r},_n=(e,t,r)=>{let n=1n,o=e%r,s=t;for(;s>0;)(s&1n)===1n&&(n=n*o%r),o=o*o%r,s>>=1n;return n},g=(1n<<255n)-19n,Tn=(486662n-2n)/4n,An=(e,t=9n)=>{let r=t%g,n=1n,o=0n,s=r,a=1n,i=0n;for(let p=254n;p>=0n;p--){let u=e>>p&0b00000001n;i^=u,i===1n&&([n,s,o,a]=[s,n,a,o]),i=u;let m=(n+o)%g,l=(n-o+g)%g,d=(s+a)%g,y=(s-a+g)%g,x=m*m%g,f=l*l%g,h=m*y%g,D=(h+l*d)%g,X=(x-f+g)%g,R=Tn*X%g,v=(h*2n-D+g)%g,O=(x+R)%g;s=D*D%g,a=v*v%g*r%g,n=x*f%g,o=X*O%g}i===1n&&([n,s,o,a]=[s,n,a,o]);let c=_n(o,g-2n,g);return n*c%g},ia=e=>{Ue(e)||(e=bt(e??crypto.getRandomValues(new Uint8Array(32)))),e=gn(e);let t=Sn(e,9n);return{privateKey:vr(e,32),publicKey:t}},Sn=(e,t)=>{e=Ue(e)?e:bt(e),t=Ue(t)?t:bt(t);let r=An(e,t);return vr(r,32)},ca=async e=>{let t=typeof e=="string"?ne.encode(e):e;return await crypto.subtle.digest("SHA-256",t)},Pn=async(e,t)=>{let r=typeof e=="string"?ne.encode(e):e,n=typeof t=="string"?ne.encode(t):t,o=await crypto.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return await crypto.subtle.sign("HMAC",o,n)},pa=async(...e)=>{let t=e.shift();for(;e.length>0;)t=await Pn(t,e.shift());return t};var ht=(e,t)=>{let r=e;for(let n of t)r=r[n];return r},Cr=(e,t,r)=>{let n=t.pop(),o=ht(e,t);return t.push(n),o[n]=r,e},da=e=>[t=>ht(e,t),(t,r)=>Cr(e,t,r)],Nr=e=>e.split(".").map(t=>isFinite(t)?G(t):t),Rn=(e,t)=>ht(e,Nr(t)),In=(e,t,r)=>Cr(e,Nr(t),r),ya=e=>[t=>Rn(e,t),(t,r)=>In(e,t,r)];var fa=(e,t)=>{let r={};for(let n in e)r[n]=e[n](t[n]);return r},xa=(e,t)=>{let r={};for(let n in e)r[n]=e[n](...t[n]);return r},J=(e,t)=>{let r=[],n=e.length;for(let o=0;o<n;o++)r.push(e[o](t[o]));return r},ba=(e,t)=>{let r=[],n=e.length;for(let o=0;o<n;o++)r.push(e[o](...t[o]));return r};var gt=(e,t)=>te(t)?t.map(e):e(t),Y=e=>((e??1)*100).toFixed(0)+"%",Aa=e=>gt(Y,e),q=e=>nt(e??0,0,255).toFixed(0),Sa=e=>gt(q,e),_t=e=>(e??0).toFixed(1)+"deg",Pa=e=>gt(_t,e),W=e=>(e<16?"0":"")+(e|0).toString(16),vn=[W,W,W],Ra=e=>"#"+J(vn,e).join(""),Cn=[W,W,W,e=>W(nt((e??1)*255,0,255))],Ia=e=>"#"+J(Cn,e).join(""),va=e=>"rgb("+J([q,q,q],e).join(",")+")",Ca=e=>"rgba("+J([q,q,q,Y],e).join(",")+")",Na=e=>"hsl("+J([_t,Y,Y],e).join(",")+")",wa=e=>"hsla("+J([_t,Y,Y,Y],e).join(",")+")";var wr,Fe,Tt=(e,t)=>(wr??=new OffscreenCanvas(e??10,t??10),wr),Kr=(e,t)=>(Fe===void 0&&(Fe=Tt(e,t).getContext("2d",{willReadFrequently:!0}),Fe.imageSmoothingEnabled=!1),Fe),Ma=e=>e?.startsWith("data:image/")??!1,Ua=e=>e.slice(0,e.indexOf(";base64,")+8),Ea=e=>e.slice(5,e.indexOf(";base64,")),Fa=e=>e.substring(e.indexOf(";base64,")+8),ja=async(e,t,r,n,o)=>{r&&(r=Oe(r));let s=await ge(e,t),a=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,n):await createImageBitmap(s,n),i=Tt(),c=Kr();return i.width=a.width,i.height=a.height,c.globalCompositeOperation="copy",c.resetTransform(),c.drawImage(a,0,0),i.convertToBlob(o)},Va=async(e,t,r,n,o)=>{r&&(r=Oe(r));let s=await ge(e,t),a=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,n):await createImageBitmap(s,n),i=Tt(),c=Kr();return i.width=a.width,i.height=a.height,c.globalCompositeOperation="copy",c.resetTransform(),c.drawImage(a,0,0),c.getImageData(0,0,a.width,a.height,o)},ge=async(e,t)=>{if(k(e)){let r=new Image;return r.src=e,r.decode().then(()=>r)}else{if(e instanceof Uint8ClampedArray)return ve(new ImageData(e,t));if(ArrayBuffer.isView(e))return ge(new Uint8ClampedArray(e.buffer),t);if(e instanceof ArrayBuffer)return ge(new Uint8ClampedArray(e),t);if(e instanceof Array)return ge(Uint8ClampedArray.from(e),t)}return e},Ba=(e,t,r,n=1)=>{let o=e.length/t,s=new Uint8ClampedArray(o).fill(1),a=new Uint8ClampedArray(o);if(r!==void 0){for(let i=0;i<o;i++)s[i]=e[i*t+r]<n?0:1;e=e.filter((i,c)=>c%t!==r),t--}for(let i=0;i<t;i++)for(let c=0;c<o;c++)a[c]+=e[c*t+i];if(r!==void 0)for(let i=0;i<o;i++)a[i]*=s[i];return new Uint8Array(a.buffer)},Nn=(e,t,r=1)=>{let{width:n,height:o,data:s}=e,a=s.length/(n*o),i=y=>s.subarray(y*n*a,(y*n+n)*a),c=y=>{let x=new Uint8Array(o*a);for(let f=0;f<o;f++)for(let h=0;h<a;h++)x[f*a+h]=s[(f*n+y)*a+h];return x},p=y=>{let x=0;for(let f=0,h=y.length;f<h;f+=a)x+=t(y[f+0],y[f+1],y[f+2],y[f+3]);return x};0;let[u,m,l,d]=[0,0,o,n];for(;u<o&&!(p(i(u))>=r);u++);for(;l>=u&&!(p(i(l))>=r);l--);for(;m<n&&!(p(c(m))>=r);m++);for(;d>=m&&!(p(c(d))>=r);d--);return{x:m,y:u,width:d-m,height:l-u}},wn=(e,t)=>{let{width:r,height:n,data:o}=e,s=o.length/(r*n),a=Oe({x:0,y:0,width:r,height:n,...t}),[i,c,p,u]=[a.y,a.x,a.y+a.height,a.x+a.width];0;let m=a.width*s,l=(r-u+(c-0))*s,d=(i*r+c)*s,y=((p-1)*r+u)*s,x=xt(o,m,l,d,y),f=gr(...x);return s===4?new ImageData(f,a.width,a.height):{width:a.width,height:a.height,data:f,colorSpace:e.colorSpace??"srgb"}},La=(e,t,r=1)=>wn(e,Nn(e,t,r)),za=(e,t)=>{let{x:r,y:n,width:o,channels:s}=e,{x:a,y:i,width:c,channels:p}=t,u=(a??0)-(r??0),m=(i??0)-(n??0);return l=>p*(l/s%o-u+((l/s/o|0)-m)*c)},Ga=e=>{Ce("not implemented")};var kr=Symbol(1),Kn=Symbol(1),Ya=(e,t,r)=>{let n,o=()=>{};return(...s)=>(Ne(n),r!==void 0&&o(r),new Promise((a,i)=>{o=i,n=pe(()=>a(t(...s)),e)}))},qa=(e,t)=>{let r,n,o,s=a=>(o=new Promise((i,c)=>n=i).then(s),a);return s(),(...a)=>(Ne(r),r=pe(()=>n(t(...a)),e),o)},kn=(e,t)=>{let r=0;return(...n)=>{let o=Ae();return o-r>e?(r=o,t(...n)):kr}},Xa=(e,t,r,n)=>{let o,s=()=>{},a=kn(t,r);return(...i)=>{Ne(o),n!==void 0&&s(n);let c=a(...i);return c===kr?new Promise((p,u)=>{s=u,o=pe(()=>p(r(...i)),e)}):ve(c)}},Qa=(e,t)=>new Promise((r,n)=>{pe(t?n:r,e,Kn)}),je=(e,t=!1)=>{let r=t?new be:new Map,n=V(r,"get"),o=V(r,"set"),s=V(r,"has");return{fn:i=>{let c=s(i),p=c?n(i):e(i);return c||o(i,p),p},memory:r}},Za=e=>je(e).fn,ei=(e,t)=>{let r=je(t),n=V(r.memory,"has"),o=r.fn;return a=>n(a)||--e>=0?o(a):t(a)},Dn=(e,t,r)=>{let n=je(t),o=V(n.memory,"has"),s=n.fn;return i=>{let c=o(i)||--e>=0?s(i):r;return e===0&&(r??=c),c}},ti=(e,t,r)=>{let n=je(r),o=V(n.memory,"has"),s=V(n.memory,"delete"),a=n.fn,i=new Ee(e,t,u=>{u.forEach(s)}),c=V(i,"push");return u=>(o(u)||c(u),a(u))},ri=e=>Dn(1,e),Dr=(e,t=!1)=>{let r=t?new mr:new ur;return{fn:(...o)=>{let s=r.getDeep(o.toReversed()),a=s.value!==ut,i=a?s.value:e(...o);return a||(s.value=i),i},memory:r}},ni=e=>Dr(e,!1).fn,oi=e=>Dr(e,!0).fn,On=(e,t)=>e.length>1?(r=>On(e.bind(void 0,r))):e.bind(t),Mn=(e,t,r=e.length)=>(...n)=>{r-=n.length;let o=e.bind(void 0,...n);return r<=0?o.call(t):Mn(o,t,r)};var ai=(e,t)=>{for(let r=0;r<t.length;r++)t[r]=e()},ii=(e,t,r)=>{for(let n=0;n<t.length;n++)t[n]=e(r[n])},ci=(e,t,r,n)=>{for(let o=0;o<t.length;o++)t[o]=e(r[o],n[o])},pi=(e,t,r,n,o)=>{for(let s=0;s<t.length;s++)t[s]=e(r[s],n[s],o[s])},ui=(e,t,r,n,o,s)=>{for(let a=0;a<t.length;a++)t[a]=e(r[a],n[a],o[a],s[a])},mi=(e,t,r,n,o,s,a)=>{for(let i=0;i<t.length;i++)t[i]=e(r[i],n[i],o[i],s[i],a[i])},di=(e,t,...r)=>{let n=r.length,o=Array(n).fill(0);for(let s=0;s<t.length;s++){for(let a=0;a<n;a++)o[a]=r[a][s];t[s]=e(...o)}},yi=(e,t,...r)=>{let n=e(...r);for(let o=0;o<t.length;o++)t[o]=n(o)};var bi=e=>e[0].map((t,r)=>e.map(n=>n[r])),hi=(e,t,r)=>{[t,r]=_(t,r,e.length);let n=e.slice(t+1,r);for(let o=0;o<n.length;o++)n[o]-=e[t+o];return n},gi=(e,t,r)=>{[t,r]=_(t,r,e.length);let n=e.slice(t,r-1);for(let o=0;o<n.length;o++)n[o]-=e[t+o+1];return n},_i=e=>{let t=e.length,r=new(xe(e))(t+1).fill(0);for(let n=0;n<t;n++)r[n+1]=r[n]+e[n];return r};var Ti=(e,t=0,r)=>{[t,r]=_(t,r,e.length);for(let n=t;n<r;n++)e[n]*=e[n]<0?-1:1;return e},Ai=(e,t=0,r)=>{[t,r]=_(t,r,e.length);for(let n=t;n<r;n++)e[n]*=-1;return e},Si=(e,t,r)=>{[t,r]=_(t,r,e.length);for(let n=t;n<r;n++)e[n]=~e[n];return e},Pi=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]&=t;return e},Ri=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]|=t;return e},Ii=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]^=t;return e},vi=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]<<=t;return e},Ci=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]>>=t;return e},Ni=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]>>>=t;return e},wi=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]+=t;return e},Ki=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]-=t;return e},ki=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]*=t;return e},Di=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]/=t;return e},Oi=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]**=t;return e},Mi=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]%=t;return e},Ui=(e,t,r,n)=>{[r,n]=_(r,n,e.length);for(let o=r;o<n;o++)e[o]=(e[o]%t+t)%t;return e};var Ur={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Bi=(e,t)=>{let{sep:r,prefix:n,postfix:o,trailingSep:s,bra:a,ket:i,toUpperCase:c,radix:p}={...Ur,...t},u=e.buffer?j(e):e,m=u.map(l=>{let d=(l|0).toString(p);return d=d.length===2?d:"0"+d,c?$e(d):d}).reduce((l,d)=>l+n+d+o+r,"");return a+m.slice(0,s||!r?void 0:-r.length)+i},Li=(e,t)=>{let{sep:r,prefix:n,postfix:o,bra:s,ket:a,radix:i}={...Ur,...t},[c,p,u,m,l]=[r,n,o,s,a].map(f=>f.length),d=e.slice(m,l>0?-l:void 0),y=p+2+u+c,x=[];for(let f=p;f<d.length;f+=y)x.push(G(d[f]+d[f+1],i));return x},Or=(e,t)=>t>0?$e(e):t<0?He(e):e,Un=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let n=le(e),o;for(;o=n(t++);)if(o>64&&o<91)return t-1},En=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let n=le(e),o;for(;o=n(t++);)if(o>96&&o<123)return t-1},Fn=(e,t,r=0,n=void 0)=>t>0?Un(e,r,n):t<0?En(e,r,n):void 0,Er=(e,t)=>{let[r,n,o,s="",a="",i=""]=e,c=t.length-1;return t.map((u,m)=>{let l=Or(u[0],m>0?n:r),d=Or(u.slice(1),o),y=m<c?s:"";return l+d+y}).reduce((u,m)=>u+m,a)+i},Fr=(e,t)=>{let[,r,,n="",o="",s=""]=e;t=t.slice(o.length,-s.length||void 0);let a;if(n===""){let i=[0],c=0;for(;c!==void 0;)c=Fn(t,r,c+1),i.push(c);a=_r(t,i)}else a=t.split(n);return a.map(i=>He(i))},zi=(e,t,r)=>Er(t,Fr(e,r)),C=(e,t)=>{let r=Er.bind(void 0,t),n=Fr.bind(void 0,e);return o=>r(n(o))},oe=[-1,-1,-1,"_"],se=[-1,-1,-1,"-"],ae=[-1,1,-1,""],ie=[1,1,-1,""],Gi=[1,1,1,"_"],$i=[1,1,1,"-"],Hi=C(oe,se),Ji=C(oe,ae),Wi=C(oe,ie),Yi=C(se,oe),qi=C(se,ae),Xi=C(se,ie),Qi=C(ae,oe),Zi=C(ae,se),ec=C(ae,ie),tc=C(ie,oe),rc=C(ie,se),nc=C(ie,ae),jr=e=>'"'+e+'"',Mr=e=>[...e.normalize("NFC")].toReversed().join(""),At=e=>{if(e.length<1)return"";let r=e.map(i=>i.length),n=Se(...r),o=e[r.indexOf(n)],s=0,a=n;for(;s<=a;){let i=(s+a)/2|0,c=o.substring(0,i);e.every(p=>p.startsWith(c))?s=i+1:a=i-1}return o.substring(0,(s+a)/2|0)},oc=e=>Mr(At(e.map(Mr))),jn=/[.*+?^${}()|[\]\\]/g,sc=e=>e.replaceAll(jn,"\\$&"),ac=(e,t,r="")=>e.startsWith(t)?r+e.slice(t.length):void 0,ic=(e,t,r="")=>e.endsWith(t)?(t===""?e:e.slice(0,-t.length))+r:void 0,Vn=`\r
`;var cc=e=>{e=" "+e.replaceAll(Vn,`
`)+" ";let t=e.length-1,r=[],n=L(r),o=Ke(r),s=0;for(let a=1;a<t;a++){let i=e[a];switch(i){case"/":{if(s===0){let c=e[a+1];if(s=c==="/"?2:c==="*"?3:0,s!==0){a++;continue}}break}case"*":{if(s===3&&(s=e[a+1]==="/"?0:s,s===0)){a++;continue}break}case`
`:s=s===2?0:s;case"	":case"\v":case" ":{if(s===0)continue;break}case'"':{s=s===0?1:s===1?0:s;break}case"}":case"]":{if(s===0){let c=o();c!==","&&n(c)}break}}(s===0||s===1)&&n(i==="\\"?i+e[++a]:i)}return r.join("")};var Bn=Lt({"node:":"node","npm:":"npm","jsr:":"jsr","blob:":"blob","data:":"data","http://":"http","https://":"https","file://":"file","./":"relative","../":"relative"}),Ln=["blob","data","relative"],zn=["jsr","npm","node"],Gn=["jsr:","npm:","node:"],P="/",_e="./",St="../",$n=/\\/g,Hn=/^[a-z]\:[\/\\]/i,Jn=/^[\/\\]([a-z])\:[\/\\]/i,Wn=/^\/+/,Yn=/(?<!\/\.\.?)\/+$/,qn=/^(\.?\/)+/,Xn=/^(\/\.?(?![^\/]))*(\/(?!\.\.\/))?/,Qn=/\/?[^\/]+$/,Zn=/^(?<basename>.+?)(?<ext>\.[^\.]+)?$/,eo=/^(?<protocol>jsr:|npm:|node:)(\/*(@(?<scope>[^\/\s]+)\/)?(?<pkg>[^@\/\s]+)(@(?<version>[^\/\r\n\t\f\v]+))?)?(?<pathname>\/.*)?$/,N=(e,t)=>e.startsWith(t),zr=(e,t)=>e.endsWith(t),Rt=e=>N(e,P)||N(e,"~")||Hn.test(e),Pt=e=>{if(!(!e||e==="")){for(let[t,r]of Bn)if(N(e,t))return r;return Rt(e)?"local":"relative"}},Vr=e=>{e=Ye(k(e)?e:e.href);let{protocol:t,scope:r,pkg:n,version:o,pathname:s}=eo.exec(e)?.groups??{};if(t===void 0||n===void 0)throw new Error("invalid package url format was provided: "+e);let a=r||void 0,i=o||void 0,c=s||P,p=`${a?"@"+a+P:""}${n}${i?"@"+i:""}`,u=Z(`${t}/${p}${c}`);return{protocol:t,scope:a,pkg:n,version:i,pathname:c,host:p,href:u}},to=(e,t)=>{if(!k(e))return e;e=U(e);let r=t;if(k(t)&&t!==""){let u=Pt(t);if(Ln.includes(u))throw new Error("the following base scheme (url-protocol) is not supported: "+u);r=to(t)}let n=Pt(e),o=r?r.protocol:void 0,s=zn.includes(n),a=Gn.includes(o),i=N(e,"/"),c=n==="local",p=n==="relative";if(s)return new URL(Vr(e).href);if(r&&a&&(i||p)){let{host:u,protocol:m,pathname:l}=Vr(r);if(i)return new URL(`${m}/${Z(u)}${Z(e)}`);if(p){let d=new URL(e,"x:"+l).pathname;return new URL(`${m}/${Z(u)}${d}`)}}return r&&(i||p)?new URL(e,r):c?new URL("file://"+Z(e)):new URL(e)},Gr=e=>e.replace(Wn,""),ro=e=>e.replace(Yn,""),yc=e=>ro(Gr(e)),lc=e=>N(e,P)?e:P+e,fc=e=>N(e,_e)?e:N(e,P)?"."+e:_e+e,It=e=>zr(e,P)?e:e+P,no=e=>e.replace(qn,""),oo=e=>{let t=[...e].toReversed().join(""),r=t.replace(Xn,"");return r==="."?"":[...r].toReversed().join("")},so=e=>oo(no(e)),xc=(e="",...t)=>t.map(so).reduce((r,n)=>(r===""?"":It(r))+n,e),vt=(e,t={})=>{let{keepRelative:r=!0}=it(t)?t:{},n=e.split(P),o=n.at(-1),s=[".."],a=r&&n[0]===".";n.length>=2&&(o==="."||o==="..")&&n.push("");for(let c of n)c===".."?s.at(-1)!==".."?s.pop():s.push(c):c!=="."&&s.push(c);return s.shift(),a&&s[0]!==".."&&s.unshift("."),s.join(P)},Ct=(e,t)=>vt(U(e),t),U=e=>e.replaceAll($n,P),bc=(e,t)=>jr(U(t.join(e))),$r=e=>{let t=At(e),r=t.length;for(let n of e){let o=n.slice(r);if(!N(o,P)){let s=t.lastIndexOf(P)+1;return t.slice(0,s)}}return t},hc=e=>$r(e.map(Ct)),Hr=(e,t)=>{let r=e.map(Ct),n=$r(r),o=n.length;return j(r,a=>[n,a.slice(o)]).map(t)},gc=(e,t)=>(t=It(t),Hr(e,([r,n])=>(n=N(n,_e)?n.slice(2):n,t+n))),Br=e=>Gr(Qn.exec(e)?.[0]??""),ao=e=>{let{basename:t="",ext:r=""}=Zn.exec(e)?.groups??{};return[t,r]},_c=e=>{let t=Ct(e),r=Br(t),n=r.length,o=n>0?t.slice(0,-n):t,s=Br(o.slice(0,-1)),[a,i]=ao(r);return{path:t,dirpath:o,dirname:s,filename:r,basename:a,extname:i}},io=e=>{if(k(e)){if(Pt(e)!=="file")return;e=new URL(e)}return N(e.protocol,"file:")?U(Ye(e.pathname)).replace(Jn,"$1:/"):void 0},Tc=e=>{let t=k(e);return io(e)??(t?U(e):e.href)},Ac=(e,t)=>{let[[r,n],[,o]]=Hr([e,t],a=>a);if(r==="")throw new Error(`there is no common directory between the two provided paths:
	"${e}" and
	"to_path"`);let s=Array(n.split(P).length).fill("..");return s[0]=".",vt(s.join(P)+P+o)},co=(e,t)=>{let r=e.pop(),n=zr(r,P),o=n?r:r+P;if(!n){let s=N(t,_e),a=N(t,St);s?t="."+t:a&&(t=St+t)}return e.push(o,t),e},Jr=(...e)=>{e=e.map(r=>r==="."?_e:r===".."?St:r);let t=e.reduce(co,[P]);return t.shift(),vt(t.join(""))},Sc=(...e)=>Jr(...e.map(U)),po=(e,t=Rt)=>{let r=k(e)?(()=>e):e;return(...n)=>{let o=n.findLastIndex(t);return o>=0?n=n.slice(o):n.unshift(It(r())),Jr(...n)}},Pc=(e,t=Rt)=>{k(e)&&(e=U(e));let r=k(e)?(()=>e):(()=>U(e())),n=po(r,t);return(...o)=>n(...o.map(U))},uo=/[\.\+\^\$\{\}\(\)\|\[\]\\]/g,Lr="<<<StarStarWildcard>>>",Rc=e=>{let t=U(e),r=t.replace(uo,"\\$&").replace(/\*\*\/?/g,Lr).replace(/\*/g,"[^/]*").replace(/\?/g,".").replace(/\[!(.*)\]/g,"[^$1]").replace(/\[(.*)\]/g,"[$1]").replace(/\{([^,}]+),([^}]+)\}/g,"($1|$2)").replace(Lr,".*");return new RegExp("^"+r+"$")};var mo=e=>e==="perf"?Q:e==="date"?Ae:e,Cc=(e,...t)=>{let r=Q();return e(...t),Q()-r},Nc=async(e,...t)=>{let r=Q();return await e(...t),Q()-r},Nt=class{stack=[];time;constructor(t="perf"){this.time=mo(t)}getTime(){return this.time()}push(){let t=this.time();return this.stack.push(t),t}pushDelta(){let t=this.time(),r=this.seek();return this.stack.push(t),r===void 0?r:t-r}pop(){return this.stack.pop()}popDelta(){let t=this.time(),r=this.pop();if(r===void 0)throw new Error("there was nothing in the time stack to pop");return t-r}seek(){return this.stack.at(-1)}seekDelta(){let t=this.time(),r=this.seek();return r===void 0?r:t-r}},wc=new Nt("perf");var kc=e=>e>=0&&e<=1,Dc=e=>e>=0&&e<=255&&e===(e|0),Oc=e=>e>=0&&e<=360,Mc=e=>e>=0&&e<=Math.PI;export{cs as Array2DShape,cr as ChainedPromiseQueue,rr as Deque,mr as HybridTree,be as HybridWeakMap,or as InvertibleMap,Ee as LimitedStack,ir as LimitedStackSet,ct as List,rc as PascalToKebab,tc as PascalToSnake,nc as PascalTocamel,tr as RcList,pt as StackSet,Nt as Stopwatch,ur as StrongTree,kr as THROTTLE_REJECT,Kn as TIMEOUT,ut as TREE_VALUE_UNSET,ar as TopologicalAsyncScheduler,sr as TopologicalScheduler,Cs as WeakTree,Ti as abs,Yt as absolute,wi as add,Nc as asyncTimeIt,Pi as band,_s as base64BodyToBytes,Si as bcomp,ya as bindDotPathTo,da as bindKeyPathTo,nn as blobToBase64,gs as blobToBase64Body,on as blobToBase64Split,vi as blsh,Ri as bor,Ci as brsh,Ni as bursh,Ii as bxor,Ts as bytesToBase64Body,ae as camelCase,Zi as camelToKebab,ec as camelToPascal,Qi as camelToSnake,Lo as chunkGenerator,nt as clamp,gn as clampX25519Scalar,$r as commonNormalizedPosixPath,hc as commonPath,gc as commonPathReplace,Hr as commonPathTransform,At as commonPrefix,oc as commonSuffix,hr as concatBytes,gr as concatTyped,Jo as constructFrom,ge as constructImageBitmapSource,ja as constructImageBlob,Va as constructImageData,xe as constructorOf,zi as convertCase,C as convertCase_Factory,za as coordinateTransformer,aa as crc32,hn as createCrc32Table,wn as cropImageData,_i as cumulativeSum,On as curry,Mn as curryMulti,An as curve25519ScalarMult,Ya as debounce,qa as debounceAndShare,bt as decodeBigintL,pn as decode_bool,fn as decode_bytes,mn as decode_cstr,Ds as decode_ivar,br as decode_ivar_array,bn as decode_number,Rr as decode_number_array,yn as decode_str,Ks as decode_uvar,fr as decode_uvar_array,yr as decode_varint,yt as decode_varint_array,wc as defaultStopwatch,As as detectReadableStreamType,hi as diff,gi as diff_right,Di as div,Nr as dotPathToKeyPath,hs as downloadBuffer,vr as encodeBigintL,cn as encode_bool,ln as encode_bytes,un as encode_cstr,ks as encode_ivar,xr as encode_ivar_array,xn as encode_number,Pr as encode_number_array,dn as encode_str,ws as encode_uvar,lr as encode_uvar_array,dr as encode_varint,dt as encode_varint_array,It as ensureEndSlash,Tc as ensureFileUrlIsLocalPath,fc as ensureStartDotSlash,lc as ensureStartSlash,he as env_is_little_endian,jn as escapeLiteralCharsRegex,sc as escapeLiteralStringForRegex,io as fileUrlToLocalPath,En as findNextLowerCase,Un as findNextUpperCase,Fn as findNextUpperOrLowerCase,Ln as forbiddenBaseUriSchemes,gt as formatEach,ia as generateX25519Keypair,Sn as generateX25519SecretKey,Fa as getBase64ImageBody,Ua as getBase64ImageHeader,Ea as getBase64ImageMIMEType,Tt as getBgCanvas,Kr as getBgCtx,Nn as getBoundingBox,Rn as getDotPath,sn as getEnvironmentEndianness,Wo as getInheritedPropertyKeys,ht as getKeyPath,Yo as getOwnGetterKeys,Me as getOwnPropertyKeys,qo as getOwnSetterKeys,Pt as getUriScheme,Rc as globPatternToRegex,Bi as hexStringOfArray,Li as hexStringToArray,W as hex_fmt,Pn as hmacSha256,pa as hmacSha256Recursive,Na as hsl_fmt,wa as hsla_fmt,Ba as intensityBitmap,nr as invertMap,Ro as invlerp,Io as invlerpClamped,vo as invlerpi,Co as invlerpiClamped,Rt as isAbsolutePath,te as isArray,Ma as isBase64Image,Ue as isBigint,rn as isBoolean,fe as isComplex,Oc as isDegrees,at as isFunction,zs as isIdentical,ts as isNumber,rs as isNumeric,it as isObject,Zo as isPrimitive,Mc as isRadians,es as isRecord,k as isString,an as isSubidentical,ns as isSymbol,js as isTypedArray,Dc as isUByte,kc as isUnitInterval,Sc as joinPaths,Jr as joinPosixPaths,xc as joinSlash,cc as jsoncRemoveComments,se as kebabCase,qi as kebabToCamel,Xi as kebabToPascal,Yi as kebabToSnake,_o as lerp,To as lerpClamped,Ao as lerpi,So as lerpiClamped,Qr as lerpv,Po as lerpvClamped,No as limp,wo as limpClamped,M as max,Za as memorize,Dn as memorizeAfterN,ei as memorizeAtmostN,je as memorizeCore,ti as memorizeLRU,ni as memorizeMulti,Dr as memorizeMultiCore,oi as memorizeMultiWeak,ri as memorizeOnce,ds as meshGrid,ys as meshMap,H as min,Xt as mirrorObjectThroughComposition,Ui as mod,T as modulo,Qo as monkeyPatchPrototypeOfClass,ki as mult,Ai as neg,ps as newArray2D,Ct as normalizePath,vt as normalizePosixPath,Ar as pack,ta as packSeq,_c as parseFilepathInfo,Vr as parsePackageUrl,ie as pascalCase,U as pathToPosixPath,bc as pathsToCliArg,Aa as percent,Y as percent_fmt,Oe as positiveRect,Oi as pow,Qa as promiseTimeout,st as prototypeChainOfObject,ee as prototypeOfClass,jr as quote,Ga as randomRGBA,jo as rangeArray,en as rangeIterator,Zs as readFrom,xa as recordArgsMap,fa as recordMap,Ac as relativePath,Mi as rem,ac as replacePrefix,ic as replaceSuffix,to as resolveAsUrl,Pc as resolvePathFactory,po as resolvePosixPathFactory,_ as resolveRange,Mr as reverseString,va as rgb_fmt,Ra as rgb_hex_fmt,Ca as rgba_fmt,Ia as rgba_hex_fmt,Uo as rotateArray,us as rotateArray2DMajor,ms as rotateArray2DMinor,qt as roundFloat,$i as screamingKebabCase,Gi as screamingSnakeCase,ba as sequenceArgsMap,J as sequenceMap,In as setDotPath,Cr as setKeyPath,ca as sha256,re as shapeOfArray2D,Zr as shuffleArray,Eo as shuffledDeque,ot as sign,_r as sliceContinuous,Gs as sliceContinuousTypedSubarray,Js as sliceIntervalLengths,Ws as sliceIntervalLengthsTypedSubarray,$s as sliceIntervals,Hs as sliceIntervalsTypedSubarray,Ls as sliceSkip,xt as sliceSkipTypedSubarray,oe as snakeCase,Ji as snakeToCamel,Hi as snakeToKebab,Wi as snakeToPascal,Zt as spliceArray2DMajor,er as spliceArray2DMinor,Fo as spliceGenericStack,Bs as splitTypedSubarray,Ki as sub,Xo as subclassThroughComposition,Ko as sum,ft as swapEndiannessFast,Vs as swapEndiannessInplace,Tr as textDecoder,ne as textEncoder,kn as throttle,Xa as throttleAndTrail,Cc as timeIt,Or as toUpperOrLowerCase,Fr as tokenToWords,bi as transpose2D,Qt as transposeArray2D,mt as treeClass_Factory,so as trimDotSlashes,oo as trimEndDotSlashes,ro as trimEndSlashes,La as trimImagePadding,yc as trimSlashes,no as trimStartDotSlashes,Gr as trimStartSlashes,lt as typed_array_constructor_of,Sa as ubyte,q as ubyte_fmt,Pa as udegree,_t as udegree_fmt,Sr as unpack,ra as unpackSeq,Bn as uriProtocolSchemeMap,ai as vectorize0,ii as vectorize1,ci as vectorize2,pi as vectorize3,ui as vectorize4,mi as vectorize5,yi as vectorizeIndexHOF,di as vectorizeN,Er as wordsToToken,ea as writeTo,Vo as zipArrays,tn as zipIterators,Bo as zipIteratorsMapperFactory};
